(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],u=0,h=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&h.push(a[n][0]),a[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,n=1;n<i.length;n++){var o=i[n];0!==a[o]&&(s=!1)}s&&(r.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},n={index:0},a={index:0},r=[];function o(t){return l.p+"js/"+({hot:"hot"}[t]||t)+"."+{hot:"fb1fcadf"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(t){var e=[],i={hot:1};n[t]?e.push(n[t]):0!==n[t]&&i[t]&&e.push(n[t]=new Promise((function(e,i){for(var s="css/"+({hot:"hot"}[t]||t)+"."+{hot:"30d6cb2d"}[t]+".css",a=l.p+s,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var c=r[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===a))return e()}var h=document.getElementsByTagName("style");for(o=0;o<h.length;o++){c=h[o],u=c.getAttribute("data-href");if(u===s||u===a)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var s=e&&e.target&&e.target.src||a,r=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=s,delete n[t],d.parentNode.removeChild(d),i(r)},d.href=a;var g=document.getElementsByTagName("head")[0];g.appendChild(d)})).then((function(){n[t]=0})));var s=a[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise((function(e,i){s=a[t]=[e,i]}));e.push(s[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(t);var h=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(d);var i=a[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",h.name="ChunkLoadError",h.type=s,h.request=n,i[1](h)}a[t]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var h=0;h<c.length;h++)e(c[h]);var d=u;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"14bb":function(t,e,i){"use strict";i("d96e")},"16a2":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.song?i("li",{staticClass:"songlistitem",on:{click:function(e){return t.$emit("change-current-song",t.item)}}},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.item.name)+" "),t._l(t.item.song.album.alias,(function(e){return i("span",{key:e},[t._v(t._s(e))])}))],2),i("div",{staticClass:"info"},[48e3==t.item.song.bMusic.sr||8==t.item.fee?i("em"):t._e(),t._l(t.item.song.artists,(function(e,s){return i("i",{key:"artist1"+s,staticClass:"artist"},[t._v(t._s(e.name))])})),i("b",[t._v(t._s(t.item.song.album.name))])],2)]),i("div",{staticClass:"icon"},[i("div",{staticClass:"play",class:{current:t.currentSongId===t.item.id,playing:t.playing}},[i("i"),i("i"),i("i"),i("i")])])]):i("li",{staticClass:"songlistitem",on:{click:function(e){return t.$emit("change-current-song",t.item)}}},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v(" "+t._s(t.item.name)+" "),t._l(t.item.alia,(function(e){return i("span",{key:e},[t._v(t._s(e))])}))],2),i("div",{staticClass:"info"},[8==t.item.fee?i("em"):t._e(),t._l(t.item.ar,(function(e,s){return i("i",{key:"artist2"+s,staticClass:"artist"},[t._v(t._s(e.name))])})),i("b",[t._v(t._s(t.item.al.name))])],2)]),i("div",{staticClass:"icon"},[i("div",{staticClass:"play",class:{current:t.currentSongId===t.item.id,playing:t.playing}},[i("i"),i("i"),i("i"),i("i")])])])},n=[],a=(i("a9e3"),{props:{item:{type:Object,required:!0},currentSongId:{type:Number},playing:Boolean}}),r=a,o=(i("730b"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"200b189b",null);e["a"]=l.exports},"173d":function(t,e,i){"use strict";i("a367")},2395:function(t,e,i){},2504:function(t,e,i){"use strict";i("d693")},"25a0":function(t,e,i){},"35ef":function(t,e,i){"use strict";i("9c07")},"4bde":function(t,e,i){"use strict";i("77d1")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=(i("d3b7"),i("bc3a")),a=i.n(n),r={baseURL:"http://apis.netstart.cn/music"},o=a.a.create(r);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}}})},s["a"].use(Plugin);Plugin;var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),t.$route.meta.showNavBar?i("ul",{attrs:{id:"nav"}},[i("li",[i("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),i("li",[i("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),i("li",[i("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)]):t._e(),i("section",{staticClass:"routes"},[i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":t.enterClass,"leave-active-class":t.leaveClass}},[i("router-view",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%","overflow-y":"auto"},attrs:{currentSongId:t.currentSong?t.currentSong.id:null,playing:t.playing,currentSong:t.currentSong},on:{"change-current-song":t.changeCurrentSong,"change-current-play-list":t.changeCurrentPlayList,"push-current-play-list":t.pushCurrentPlayList}})],1)],1),i("audio",{ref:"audio",attrs:{src:t.currentSongUrl,controls:"",autoplay:""},on:{playing:function(e){t.playing=!0},pause:function(e){t.playing=!1},timeupdate:t.timeupdate,ended:t.ended,loop:t.loopPlayback,durationchange:t.durationchange}}),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__slideInUp"}},[t.currentSong?i("Play",{attrs:{currentSong:t.currentSong,currentPlayList:t.currentPlayList,playing:t.playing,currentTime:t.currentTime,currentVolume:t.currentVolume,duration:t.duration,playerMode:t.playerMode,formerPlayList:t.formerPlayList,collectionList:t.collectionList,historyPlayList:t.historyPlayList,presentPlayList:t.presentPlayList},on:{"change-current-song":t.changeCurrentSong,"toggle-playing-state":t.togglePlayingState,"toggle-play-model":t.togglePlayModel,"previous-song":t.previousSong,"next-song":t.nextSong,"list-cycle":t.listCycle,"song-cycle":t.songCycle,"shuffle-play":t.shufflePlay,"current-time-change":function(e){t.$refs.audio.currentTime=e},"current-volume-change":function(e){t.$refs.audio.volume=e},"rank-play-list":t.rankPlayList,"del-new-play-list":t.delNewPlayList,"delete-the-item":t.deleteTheItem,"add-history-play-list":t.addHistoryPlayList,"del-all-collection-list":t.delAllCollectionList,"del-all-history-list":t.delAllHistoryList,"del-all-present-list":t.delAllPresentList,"add-collection":t.addCollection,"cancel-collection":t.cancelCollection}}):t._e()],1)],1)},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topbar"},[i("div",{staticClass:"topfix"},[i("h1",{staticClass:"topfl"}),i("div",{staticClass:"topfr"},[t._v("下载APP")])])])}],u=i("2909"),h=(i("c740"),i("a630"),i("3ca3"),i("6062"),i("ddb0"),i("a434"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{staticClass:"play",class:{playing:t.playing}},[i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"}},[i("keep-alive",[t.showPlayPage?i("PlayPage",{attrs:{currentSong:t.currentSong,playing:t.playing,currentTime:t.currentTime,currentVolume:t.currentVolume,duration:t.duration,currentPlayList:t.currentPlayList,author:t.author,album:t.album,playerMode:t.playerMode,collectionList:t.collectionList,historyPlayList:t.historyPlayList,presentPlayList:t.presentPlayList},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)},"toggle-show-play-page":function(e){t.showPlayPage=e},"toggle-playing-state":function(e){return t.$emit("toggle-playing-state")},"toggle-play-model":function(e){return t.$emit("toggle-play-model")},"previous-song":function(e){return t.$emit("previous-song")},"next-song":function(e){return t.$emit("next-song")},"list-cycle":function(e){return t.$emit("list-cycle")},"song-cycle":function(e){return t.$emit("song-cycle")},"shuffle-play":function(e){return t.$emit("shuffle-play")},"current-time-change":function(e){return t.$emit("current-time-change",e)},"current-volume-change":function(e){return t.$emit("current-volume-change",e)},"delete-the-item":function(e){return t.$emit("delete-the-item",e)},"add-history-play-list":function(e){return t.$emit("add-history-play-list")},"del-all-collection-list":function(e){return t.$emit("del-all-collection-list")},"del-all-history-list":function(e){return t.$emit("del-all-history-list")},"del-all-present-list":function(e){return t.$emit("del-all-present-list")},"add-collection":function(e){return t.$emit("add-collection",e)},"cancel-collection":function(e){return t.$emit("cancel-collection",e)}}}):t._e()],1)],1),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__slideInUp","leave-active-class":"animate__animated animate__slideOutDown"}},[i("PlayBar",{directives:[{name:"show",rawName:"v-show",value:!t.showPlayPage,expression:"!showPlayPage"}],attrs:{currentSong:t.currentSong,playing:t.playing,currentTime:t.currentTime,duration:t.duration,author:t.author,album:t.album,currentPlayList:t.currentPlayList},on:{"toggle-playing-state":function(e){return t.$emit("toggle-playing-state")},"change-current-song":function(e){return t.$emit("change-current-song",e)},toggleShowPlayList:t.toggleShowPlayList,"toggle-show-play-page":function(e){t.showPlayPage=e},"change-show-list":function(e){t.showPlayList=e}}})],1),t.showPlayList?i("NewPlayList",{attrs:{currentPlayList:t.currentPlayList,currentSong:t.currentSong,playing:t.playing,formerPlayList:t.formerPlayList},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)},"change-show-list":function(e){t.showPlayList=e},"rank-play-list":function(e){return t.$emit("rank-play-list")},"del-new-play-list":function(e){return t.$emit("del-new-play-list")}}}):t._e()],1)}),d=[],g=(i("a9e3"),i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"playbar",class:{playing:t.playing},on:{click:function(e){t.$emit("toggle-show-play-page",!0),t.$emit("change-show-list",!1)}}},[i("img",{attrs:{src:(t.currentSong.song?t.currentSong.picUrl:t.currentSong.al.picUrl)+"?imageView=1&type=webp&thumbnail=60x0",alt:"music"}}),i("h3",[t._v(t._s(t.currentSong.name)+" - "),t._l(t.author,(function(e,s){return i("span",{key:s},[t._v(t._s(e.name))])})),i("i",[t._v(t._s(t.album))])],2),i("div",{staticClass:"progress",on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-playing-state")}}},[i("canvas",{ref:"canvas",attrs:{width:"40",height:"40"}}),i("div",{staticClass:"icon",class:[t.playing?"pause":"play"]})]),i("div",{staticClass:"lists",on:{click:function(e){return e.stopPropagation(),t.toggleShowPlayList.apply(null,arguments)}}})])}),m=[],p={data:function(){return{}},props:{currentSong:{type:Object},playing:Boolean,currentTime:Number,duration:Number,currentPlayList:Array,author:Array,album:String},methods:{toggleShowPlayList:function(){this.$emit("toggleShowPlayList")},drawImg:function(t){var e=this.$refs.canvas.getContext("2d");e.clearRect(0,0,40,40),e.beginPath(),e.arc(20,20,19,Math.PI/180*-90,Math.PI/180*(360*t-90)),e.strokeStyle="#d43c33",e.lineWidth=1.6,e.stroke()}},mounted:function(){this.drawImg()},computed:{percentage:function(){return this.currentTime/this.duration}},watch:{percentage:function(t){var e=this.$refs.canvas.getContext("2d");e.clearRect(0,0,40,40),e.beginPath(),e.arc(20,20,19,Math.PI/180*-90,Math.PI/180*(360*t-90)),e.strokeStyle="#d43c33",e.lineWidth=1.6,e.stroke(),e.beginPath(),e.arc(20,20,19,Math.PI/180*(360*t-90),Math.PI/180*270),e.strokeStyle="#333",e.lineWidth=1,e.stroke()}}},f=p,y=(i("6b5b"),i("2877")),v=Object(y["a"])(f,g,m,!1,null,"23ac8b59",null),_=v.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"play-page"},[i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showflag,expression:"showflag"}],staticClass:"mask",style:{backgroundImage:"url("+(t.currentSong.song?t.currentSong.picUrl:t.currentSong.al.picUrl)+"?imageView=1&type=webp&thumbnail=246x0)"}})]),i("div",{staticClass:"playTop"},[i("div",{staticClass:"back",on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-show-play-page",!1)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-fanhui"}})])]),i("div",{staticClass:"center"},[i("marquee",{attrs:{behavior:"scroll",direction:"left",scrolldelay:"250"}},[i("div",{staticClass:"title"},[t._v(t._s(t.currentSong.name)+" "),t.showAlias?i("span",{staticClass:"alias"},[t._v(" "+t._s(t.alias))]):t._e(),i("span",[t._v(" - 专辑 - ("+t._s(t.album)+")")])])])],1),i("div",{staticClass:"share",on:{click:function(e){return e.stopPropagation(),t.showMessages({show:!0,title:"👉下次一定..."})}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-fenxiang"}})])])]),i("div",{staticClass:"author"},t._l(t.author,(function(e,s){return i("span",{key:s},[t._v(t._s(e.name))])})),0),i("span",{directives:[{name:"show",rawName:"v-show",value:t.author.length<2,expression:"author.length < 2 "}],staticClass:"attention"},[t._v("+")]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.author.length>1,expression:"(author.length > 1) "}],staticClass:"authors"},[t._v(">")]),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"}},[t.showLyric?t._e():i("section",{staticClass:"rotate",attrs:{name:"rotateBox"},on:{click:function(e){e.stopPropagation(),t.showLyric=!0}}},[i("img",{staticClass:"needle",class:{paused:!t.playing},attrs:{src:"https://s3.music.126.net/mobile-new/img/needle-ab.png",alt:""}}),i("section",{staticClass:"record",class:{playing:t.playing}},[i("img",{staticClass:"thumb",attrs:{src:"https://s3.music.126.net/mobile-new/img/disc_default.png",alt:""}}),i("transition",{attrs:{name:"fade"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:t.showflag,expression:"showflag"}],staticClass:"thumb",attrs:{src:t.url,alt:""}})]),i("img",{staticClass:"disc",attrs:{src:"https://p5.music.126.net/obj/wo3DlcOGw6DClTvDisK1/4602256867/5855/63fb/325b/d7e4e3a244701ee85fecb5d4f6b5bd57.png",alt:""}})],1),i("section",{staticClass:"operation"},[t.currentSong.isLike?i("span",{staticClass:"animate__animated animate__heartBeat ",on:{click:function(e){e.stopPropagation(),t.removeLikeSong(),t.showMessages({show:!0,title:"已取消喜欢"})}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-xihuan"}})])]):i("span",{staticClass:"animate__animated animate__pulse",on:{click:function(e){return e.stopPropagation(),t.addLikeSong()}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-xihuan3"}})])]),i("span",{on:{click:function(e){return e.stopPropagation(),t.showMessages({show:!0,title:"🌞没有做..."})}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-changyongicon-"}})])]),i("span",{staticClass:"sing",on:{click:function(e){return e.stopPropagation(),t.showMessages({show:!0,title:"e🌝y没有做..."})}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-changge"}})]),i("i",[t._v("999+")])]),i("span",{staticClass:"comment",on:{click:function(e){return e.stopPropagation(),t.showMessages({show:!0,title:"😳这个也没有..."})}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-pinglun2"}})]),i("i",[t._v("1w+")])]),i("span",{on:{click:function(e){return e.stopPropagation(),t.showMessages({show:!0,title:"🕞下次一定..."})}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-ellipsis2"}})])])])])]),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"}},[i("keep-alive",[t.showLyric?i("Lyric",{attrs:{currentLyric:t.currentLyric,currentTime:t.currentTime,currentVolume:t.currentVolume,lyricLoading:t.lyricLoading,duration:t.duration,playing:t.playing},on:{"toggle-show-lyric":function(e){t.showLyric=e},"current-volume-change":function(e){return t.$emit("current-volume-change",e)}}}):t._e()],1)],1),i("section",{staticClass:"progress"},[i("p",{staticClass:"play-time-lt",style:{"--ltColor":t.ltColor}},[t._v(t._s(t.curTime))]),i("div",{staticClass:"progress-box",style:{"--progressHeight":t.proHight}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"range",name:"",id:"",max:t.duration,step:"0.5"},domProps:{value:t.value},on:{change:t.progressChange,input:t.progressInput,__r:function(e){t.value=e.target.value}}}),i("span",{staticClass:"bar",style:{width:t.value/t.duration*100+"%","--barHight":t.barHight,"--barWidth":t.barWidth,"--barTop":t.barTop}})]),i("p",{staticClass:"play-time-rt"},[t._v(t._s(t.allTime))])]),i("section",{staticClass:"controls"},[i("div",{on:{click:function(e){return t.$emit("toggle-play-model")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.playerMode,expression:"playerMode === 1"}],on:{click:function(e){return t.$emit("song-cycle")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-xunhuan"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.playerMode,expression:"playerMode === 2"}],on:{click:function(e){return t.$emit("shuffle-play")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-_24gl-repeatOnce2"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.playerMode,expression:"playerMode === 3"}],on:{click:function(e){return t.$emit("list-cycle")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-suijibofang"}})])])]),i("div",{staticClass:"previous",on:{click:function(e){return t.$emit("previous-song")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shangyiqu101"}})])]),i("div",{staticClass:"play-state",on:{click:function(e){return t.$emit("toggle-playing-state")}}},[t.playing?i("div",{staticClass:"suspended"}):i("div",{staticClass:"pTmpLay"},[i("span",{staticClass:"auplay"})])]),i("div",{staticClass:"exit-music",on:{click:function(e){return t.$emit("next-song")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-xiayiqu101"}})])]),i("div",{on:{click:function(e){t.showPlayList=!0}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-bofangliebiao"}})])])]),i("PagePlayList",{directives:[{name:"show",rawName:"v-show",value:t.showPlayList,expression:"showPlayList"}],attrs:{currentPlayList:t.currentPlayList,currentSong:t.currentSong,playing:t.playing,showPlayList:t.showPlayList,collectionList:t.collectionList,historyPlayList:t.historyPlayList,presentPlayList:t.presentPlayList},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)},"change-show-list":function(e){t.showPlayList=e},"delete-the-item":function(e){return t.$emit("delete-the-item",e)},"add-history-play-list":function(e){return t.$emit("add-history-play-list")},"del-all-collection-list":function(e){return t.$emit("del-all-collection-list")},"del-all-history-list":function(e){return t.$emit("del-all-history-list")},"del-all-present-list":function(e){return t.$emit("del-all-present-list")}}}),i("Tips"),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"}},[t.showTopTips?i("div",{staticClass:"li-tips-box"},[i("div",{staticClass:"like-tips"},[i("i",[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-xihuan"}})])]),i("p",[t._v("已添加到我喜欢的音乐")])])]):t._e()]),i("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"}},[t.messages.show?i("div",{staticClass:"disable-tips-box"},[i("div",{staticClass:"disable-tips"},[i("p",[t._v(t._s(t.messages.title))])])]):t._e()])],1)},C=[],w=(i("d81d"),i("4de4"),i("ac1f"),i("1276"),i("5319"),i("466d"),i("159b"),i("4d63"),i("25f0"),i("99af"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"play-list"},[i("div",{staticClass:"mask animate__animated animate__fadeIn",on:{click:function(e){return e.stopPropagation(),t.$emit("change-show-list",!1)}}}),i("div",{staticClass:"points"},[i("ol",[i("li",{class:{currentActive:0==t.circleIndex}}),i("li",{class:{currentActive:1==t.circleIndex}}),i("li",{class:{currentActive:2==t.circleIndex}})])]),i("div",{staticClass:"swiper animate__animated animate__slideInUp",on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[i("div",{staticClass:"ContinuPlay_box"},[i("div",{ref:"cardBox",staticClass:"card",on:{transitionend:t.animateEnd}},[i("h3",{staticClass:"title"},[t._v("收藏列表"),i("span",[t._v("("+t._s(t.collectionList.length)+")")])]),i("div",{staticClass:"operation"},[i("div",{staticClass:"random"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-suijibofang"}})]),i("span",[t._v("随机播放")])]),i("div",{staticClass:"collected"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tianjiawenjianjia"}})]),i("span",[t._v("收藏全部")])]),i("div",{staticClass:"deletes",on:{click:function(e){return e.stopPropagation(),t.collectioDeleteAll()}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shanchu3"}})])])]),i("ul",{staticClass:"list"},[i("transition-group",{attrs:{name:"list-complete",mode:"out-in"}},t._l(t.collectionList,(function(e,s){return i("SongListCard",{key:e.id,attrs:{item:e,currentSongId:t.currentSong.id,playing:t.playing},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)},"delete-the-item":function(i){t.type=3,t.$emit("delete-the-item",{item:e,index:s,type:t.type})}}},[t._v(t._s(s+1))])})),1)],1)]),i("div",{staticClass:"card"},[i("h3",{staticClass:"title"},[t._v("历史列表"),i("span",[t._v("("+t._s(t.historyPlayList.length)+")")])]),i("div",{staticClass:"operation"},[i("div",{staticClass:"random"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-suijibofang"}})]),i("span",[t._v("随机播放")])]),i("div",{staticClass:"collected"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tianjiawenjianjia"}})]),i("span",[t._v("收藏全部")])]),i("div",{staticClass:"deletes",on:{click:function(e){return e.stopPropagation(),t.historyDeleteAll()}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shanchu3"}})])])]),i("ul",{staticClass:"list"},[i("transition-group",{attrs:{name:"list-complete",mode:"out-in"}},t._l(t.historyPlayList,(function(e,s){return i("SongListCard",{key:e.id,attrs:{item:e,currentSongId:t.currentSong.id,playing:t.playing},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)},"delete-the-item":function(i){t.type=2,t.$emit("delete-the-item",{item:e,index:s,type:t.type})},"add-history-play-list":function(e){return t.$emit("add-history-play-list")}}},[t._v(t._s(s+1))])})),1)],1)]),i("div",{staticClass:"card"},[i("h3",{staticClass:"title"},[t._v("当前列表"),i("span",[t._v("("+t._s(t.presentPlayList.length)+")")])]),i("div",{staticClass:"operation"},[i("div",{staticClass:"random"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-suijibofang"}})]),i("span",[t._v("随机播放")])]),i("div",{staticClass:"collected"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-tianjiawenjianjia"}})]),i("span",[t._v("收藏全部")])]),i("div",{staticClass:"deletes",on:{click:function(e){return e.stopPropagation(),t.currentDeleteAll()}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shanchu3"}})])])]),i("ul",{staticClass:"list"},[i("transition-group",{attrs:{name:"list-complete",mode:"out-in"}},t._l(t.presentPlayList,(function(e,s){return i("SongListCard",{key:e.id,attrs:{item:e,currentSongId:t.currentSong.id,playing:t.playing},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)},"delete-the-item":function(i){t.type=1,t.$emit("delete-the-item",{item:e,index:s,type:t.type})}}},[t._v(t._s(s+1))])})),1)],1)])])]),t.isDelete?i("div",{staticClass:"inner-mask"}):t._e(),t.isDelete?i("div",{staticClass:"inner animate__animated animate__slideInUp"},[i("h3",{staticClass:"inner-title"},[t._v("删除")]),i("p",[t._v("确定要清空当前播放列表？")]),i("div",{staticClass:"select"},[i("span",{staticClass:"left",on:{click:function(e){t.isDelete=!1}}},[t._v("取消")]),i("span",{staticClass:"right",on:{click:function(e){t.isDelete=!1,t.AllListsDElete()}}},[t._v("清空")])])]):t._e(),t.tips?i("div",{staticClass:"inner-mask"}):t._e(),t.tips?i("div",{staticClass:"inner animate__animated animate__slideInUp"},[i("h3",{staticClass:"inner-title"},[t._v("提示")]),i("p",[t._v("当前列表没有更多歌曲了")]),i("div",{staticClass:"select"},[i("span",{staticClass:"interpose",on:{click:function(e){t.tips=!1}}},[t._v("确定")])])]):t._e()])])}),x=[],P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.item.song?i("li",{staticClass:"songlistitem",on:{click:function(e){e.stopPropagation(),t.$emit("change-current-song",t.item),t.$emit("add-history-play-list")}}},[t.currentSongId===t.item.id?i("div",{staticClass:"icon-state"},[i("div",{staticClass:"play",class:{current:t.currentSongId===t.item.id,playing:t.playing}},[i("i"),i("i"),i("i"),i("i")])]):t._e(),i("div",{staticClass:"right"},[i("div",{staticClass:"title",class:{currently:t.currentSongId===t.item.id}},[t._v(" "+t._s(t.item.name)+" "),t._l(t.item.song.album.alias,(function(e){return i("span",{key:e,staticClass:"aliases"},[t._v(t._s(e))])})),i("span",{staticClass:"info"},[48e3==t.item.song.bMusic.sr?i("em"):t._e(),t._l(t.item.song.artists,(function(e,s){return i("i",{key:"artist1"+s,staticClass:"artist",class:{currently:t.currentSongId===t.item.id}},[t._v(" - "+t._s(e.name))])})),i("b",{class:{currently:t.currentSongId===t.item.id}},[t._v(t._s(t.item.song.album.name))])],2)],2)]),i("div",{staticClass:"deleted",on:{click:function(e){return e.stopPropagation(),t.$emit("delete-the-item")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shanchu1"}})])])]):i("li",{staticClass:"songlistitem",on:{click:function(e){e.stopPropagation(),t.$emit("change-current-song",t.item),t.$emit("add-history-play-list")}}},[t.currentSongId===t.item.id?i("div",{staticClass:"icon-state"},[i("div",{staticClass:"play",class:{current:t.currentSongId===t.item.id,playing:t.playing}},[i("i"),i("i"),i("i"),i("i")])]):t._e(),i("div",{staticClass:"right"},[i("div",{staticClass:"title",class:{currently:t.currentSongId===t.item.id}},[t._v(" "+t._s(t.item.name)+" "),t._l(t.item.alia,(function(e){return i("span",{key:e,staticClass:"aliases"},[t._v(t._s(e))])})),i("span",{staticClass:"info"},[t._l(t.item.ar,(function(e,s){return i("i",{key:"artist2"+s,staticClass:"artist",class:{currently:t.currentSongId===t.item.id}},[t._v(" - "+t._s(e.name))])})),i("b",{class:{currently:t.currentSongId===t.item.id}},[t._v(t._s(t.item.al.name))])],2)],2)]),i("div",{staticClass:"deleted",on:{click:function(e){return e.stopPropagation(),t.$emit("delete-the-item")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shanchu1"}})])])])},b=[],k={data:function(){return{}},props:{item:{type:Object,required:!0},currentSongId:{type:Number},playing:Boolean}},S=k,I=(i("edaf"),Object(y["a"])(S,P,b,!1,null,"576c3e42",null)),T=I.exports,$={data:function(){return{circleIndex:2,flag:!0,startX:0,endX:0,moveX:0,cardWidth:0,cardIndex:2,move:!0,isDelete:!1,tips:!1,currentDelList:0,type:0}},components:{SongListCard:T},props:{showPlayList:Boolean,currentPlayList:Array,currentSong:Object,playing:Boolean,collectionList:Array,historyPlayList:Array,presentPlayList:Array},methods:{animateEnd:function(){this.cardIndex>2&&(this.cardIndex=2,this.circleIndex=2,this.$refs.cardBox.style.transition="none",this.$refs.cardBox.style.marginLeft=-this.marginLeftX+"px"),this.cardIndex<0&&(this.cardIndex=0,this.circleIndex=0,this.$refs.cardBox.style.transition="none",this.$refs.cardBox.style.marginLeft=this.marginLeftX+"px")},touchStart:function(t){this.move=!1,this.startX=t.targetTouches[0].clientX},touchMove:function(t){this.move=!0,this.endX=t.targetTouches[0].clientX,this.moveX=this.endX-this.startX,this.cardWidth=this.$refs.cardBox.offsetWidth,this.$refs.cardBox.style.transition="none",this.$refs.cardBox.style.marginLeft=this.marginLeftX+this.moveX+"px"},touchEnd:function(){this.move&&(this.moveX>10?(this.cardIndex--,this.circleIndex--,this.cardIndex<0?(this.cardIndex=0,this.circleIndex=0,this.$refs.cardBox.style.transition="all 0.4s ease",this.$refs.cardBox.style.marginLeft=this.marginLeftX+"px"):(this.$refs.cardBox.style.transition="all 0.4s ease",this.$refs.cardBox.style.marginLeft=this.marginLeftX+"px")):this.moveX<-10&&(this.cardIndex++,this.circleIndex++,this.cardIndex>2?(this.cardIndex=2,this.circleIndex=2,this.$refs.cardBox.style.transition="all 0.4s ease",this.$refs.cardBox.style.marginLeft=this.marginLeftX+"px"):(this.$refs.cardBox.style.transition="all 0.4s ease",this.$refs.cardBox.style.marginLeft=this.marginLeftX+"px")))},historyDeleteAll:function(){this.currentDelList=2,this.showDeletePage(this.historyPlayList)},currentDeleteAll:function(){this.currentDelList=1,this.showDeletePage(this.presentPlayList)},collectioDeleteAll:function(){this.currentDelList=3,this.showDeletePage(this.collectionList)},AllListsDElete:function(){this.deleteLists()},showDeletePage:function(t){0===t.length?this.tips=!0:this.isDelete=!0},deleteLists:function(){switch(this.currentDelList){case 1:this.$emit("del-all-present-list"),console.log("删除当前播放",this.currentDelList);break;case 2:this.$emit("del-all-history-list"),console.log("删除历史列表",this.currentDelList);break;case 3:this.$emit("del-all-collection-list"),console.log("删除收藏列表",this.currentDelList);break}}},watch:{circleIndex:function(){this.circleIndex>=2&&(this.circleIndex=2),this.circleIndex<=0&&(this.circleIndex=0)}},computed:{marginLeftX:function(){return-this.boxWidth*this.circleIndex}},mounted:function(){this.cardWidth=this.$refs.cardBox.offsetWidth,this.boxWidth=.896*document.documentElement.clientWidth,this.$refs.cardBox.style.marginLeft=this.marginLeftX+"px"}},A=$,N=(i("87b7"),Object(y["a"])(A,w,x,!1,null,"e97859e8",null)),M=N.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.currentLyric?i("section",{staticClass:"lyrics_compact"},[i("div",{staticClass:"volume"},[i("div",{staticClass:"progress-volume"},[i("p",{staticClass:"volume-icon-lt"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.isShowVolume,expression:"isShowVolume == 1"}],on:{click:function(e){return e.stopPropagation(),t.getBack.apply(null,arguments)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-_24gl-volumeZero"}})])]),i("span",{directives:[{name:"show",rawName:"v-show",value:2==t.isShowVolume,expression:"isShowVolume == 2"}],on:{click:function(e){return e.stopPropagation(),t.mute.apply(null,arguments)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-_24gl-volumeMiddle"}})])]),i("span",{directives:[{name:"show",rawName:"v-show",value:3==t.isShowVolume,expression:"isShowVolume == 3"}],on:{click:function(e){return e.stopPropagation(),t.mute.apply(null,arguments)}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a24gl-volumeHigh"}})])])]),i("div",{staticClass:"volume-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"range",max:1,step:"0.05"},domProps:{value:t.value},on:{input:t.progressVolumeChange,__r:function(e){t.value=e.target.value}}}),i("span",{staticClass:"volume-bar",style:{width:t.value/1*100+"%"}})]),i("p",{staticClass:"volume-icon-rt"},[i("span",[t._v(t._s(this.volumePercentum))])])])]),i("div",{staticClass:"lyric",on:{click:function(e){return e.stopPropagation(),t.$emit("toggle-show-lyric",!1)}}},[i("ul",{ref:"lyricContent"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.lyricLoading,expression:"lyricLoading"}],staticClass:"lyric-load"},[t._v(" 歌词加载中... ")]),t._l(t.currentLyric,(function(e,s){return i("li",{directives:[{name:"show",rawName:"v-show",value:!t.lyricLoading,expression:"!lyricLoading"}],key:s},[i("span",{class:{active:t.currentLyricIndex===s}},[t._v(t._s(e.text))])])}))],2)])]):t._e()])},O=[],B=(i("fb6a"),{data:function(){return{lisHight:[],hh:0,line:0,curLine:0,conTime:0,value:this.currentVolume,isShowVolume:2,currentVol:.5}},props:{currentLyric:Array,currentTime:Number,currentVolume:Number,lyricLoading:Boolean,duration:Number,playing:Boolean},mounted:function(){this.conmentTime(),this.notTimeHeight(),this.getHeight()},computed:{currentLyricIndex:function(){var t=this;if(this.conTime===this.conTime)var e=this.currentLyric.findIndex((function(e){return e.time>t.currentTime})),i=-1!==e?e-1:this.currentLyric.length-1;else this.currentLyric.length>1?(this.notTimeHeight(),i=this.curLine):i=0;return-1===i&&(i=0),i},volumePercentum:function(){var t=Math.round(this.value/1*100)+"%";return t}},watch:{currentLyricIndex:function(t){var e=this.lisHight.slice(0,t).reduce((function(t,e){return t+e+16.7}),0);this.hh=e,0===this.currentLyricIndex&&(this.hh=0),this.$refs.lyricContent.style.marginTop=-this.hh+"px"},currentLyric:function(){this.conmentTime()},value:function(){return 0==this.value?this.isShowVolume=1:1==this.value?this.isShowVolume=3:this.isShowVolume=2},currentTime:function(){}},methods:{getHeight:function(){var t=this.$refs.lyricContent.querySelectorAll("li");this.lisHight=Object(u["a"])(t).map((function(t){return t.offsetHeight}))},notTimeHeight:function(){this.line=Math.round(this.duration/this.currentLyric.length*1e3),this.curLine=Math.round(this.currentTime/this.line*1e3)},conmentTime:function(){this.conTime=this.currentLyric[0].time},progressVolumeChange:function(t){this.currentVol=t.target.value,this.$emit("current-volume-change",t.target.value)},mute:function(){this.isShowVolume=1,this.value=0,this.$emit("current-volume-change",0)},getBack:function(){0==this.currentVol?(this.isShowVolume=1,this.currentVol=.5):this.isShowVolume=2,this.value=this.currentVol,this.$emit("current-volume-change",this.currentVol)}},updated:function(){this.getHeight()},activated:function(){this.getHeight()}}),D=B,H=(i("14bb"),Object(y["a"])(D,j,O,!1,null,"6d4cf5c8",null)),R=H.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("transition",{attrs:{name:"slide-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.tips.show,expression:"tips.show"}],staticClass:"tips"},[i("h3",[t._v(t._s(t.tips.title))])])])],1)},V=[],U={data:function(){return{tips:{show:!1,title:"",timer:null}}},created:function(){var t=this;this.bus.$on("tips",(function(e){t.tips=e}))},watch:{tips:function(){var t=this;clearTimeout(this.timer),this.tips.show&&(this.timer=setTimeout((function(){t.tips.show=!1}),1500))}}},J=U,F=(i("73ea"),Object(y["a"])(J,E,V,!1,null,"03dff90a",null)),W=F.exports,X={components:{PagePlayList:M,Lyric:R,Tips:W},data:function(){return{showPlayList:!1,showflag:!1,showAlias:!0,url:"https://s3.music.126.net/mobile-new/img/disc_default.png",lyric:null,showLyric:!1,lyricLoading:!0,lyTimer:null,value:this.currentTime,inputing:!1,proHight:"2px",barHight:"10px",barWidth:"10px",barTop:"-4px",ltColor:"#ffffff",curTime:"00:00",allTime:"00:00",isLike:!1,showTopTips:!1,topTimer:"",messages:{show:!1,timer2:"",title:"已取消喜欢"},flag:!0}},props:{currentSong:Object,playing:Boolean,currentTime:Number,duration:Number,currentPlayList:Array,author:Array,album:String,playerMode:Number,currentVolume:Number,collectionList:Array,historyPlayList:Array,presentPlayList:Array},watch:{"currentSong.id":function(t){this.getLyric(t),this.lyricLoading=!0,this.calculateTinme()},currentTime:function(t){this.curTime=this.formatTime(this.currentTime),this.inputing?(this.proHight="5px",this.barHight="15px",this.barWidth="15px",this.barTop="-5px",this.ltColor="#ffffff"):(this.value=t,this.proHight="2px",this.barHight="10px",this.barWidth="10px",this.barTop="-4px",this.ltColor="#d3d3d3")},duration:function(){this.allTime=this.formatTime(this.duration)}},computed:{alias:function(){return this.currentSong.song?this.currentSong.song.alias[0]:this.currentSong.alia[0]},currentLyric:function(){if(this.lyric){var t=/^\[|\]$/g,e=t.test(this.lyric);if(e){console.log("处理歌词方法2",2222);var i=this.lyric.replace(/\]\[/g,"] ["),s=i.match(/(\[\d{2}:\d{2}\.\d{2,3}\])(.[^[\]]*)?/g),n=[];return s.forEach((function(t){var e={};/^(\[\d{2}:\d{2}\.\d{2,3}\])(.[^[\]]*)?$/.exec(t);var i=RegExp.$1.replace("[","").replace("]",""),s=i.split(":").map((function(t){return Number(t)})),a=60*s[0]+s[1],r=RegExp.$2.replace(/[\r\n]/g,"");e["time"]=a,e["text"]=r,n.push(e)})),n.forEach((function(t,e,i){""===t.text&&(i.splice(e,1),e-=1)})),n.forEach((function(t,e,i){""!==t.text&&" "!==t.text||(i.splice(e,1),e-=1)})),n}return console.log("处理歌词方法1",1111),this.lyric.split("\n").filter((function(t){return t})).map((function(t){var e=t.replace(/(?:\[[^\]]*\])/,""),i=t.replace(e,"").replace(/(^\[|\]$)/g,""),s=i.split(":").map((function(t){return Number(t)})),n=60*s[0]+s[1];return""!==e&&" "!==e||(e="......"),{text:e,time:n}}))}return[{text:"没有找到歌词...",time:NaN}]}},methods:{changeImgs:function(){var t=this,e=new Image;e.src=this.currentSong.song?this.currentSong.picUrl:this.currentSong.al.picUrl,e.onload=function(){t.url=e.src,setTimeout((function(){t.showflag=!0}),300)}},changeAlias:function(){void 0==this.alias||""==this.alias?this.showAlias=!1:this.showAlias=!0},getLyric:function(t){var e=this;this.axios.get("/lyric",{params:{id:t}}).then((function(t){e.lyricEstimate(t),e.lyricLoaded()}))},lyricEstimate:function(t){void 0==t.data.lrc||""==t.data.lrc.lyric?this.lyric="纯音乐，请欣赏.":this.lyric=t.data.lrc.lyric},lyricLoaded:function(){var t=this;clearTimeout(this.lyTimer),this.lyTimer=setTimeout((function(){t.lyricLoading=!1}),1e3)},changePlayerModel:function(){},progressChange:function(t){this.inputing=!1,this.$emit("current-time-change",t.target.value)},progressInput:function(){this.inputing=!0},formatTime:function(t){0==t&&(this.curTime="00:00");var e=Math.floor(t/60)<10?"0".concat(Math.floor(t/60)):Math.floor(t/60),i=Math.floor(t%60)<10?"0".concat(Math.floor(t%60)):Math.floor(t%60);return"".concat(e,":").concat(i)},calculateTinme:function(){this.curTime=this.formatTime(this.currentTime),this.allTime=this.formatTime(this.duration)},addLikeSong:function(){this.isLike=!0,this.showTopTips=!0,this.messages.show=!1,this.$emit("add-collection",this.isLike),this.showLikeTips()},removeLikeSong:function(){this.isLike=!1,this.showTopTips=!1,this.$emit("cancel-collection",this.isLike)},showLikeTips:function(){var t=this;clearTimeout(this.topTimer),this.showTopTips&&(this.topTimer=setTimeout((function(){t.showTopTips=!1}),1300))},showMessages:function(t){var e=this;this.flag&&(this.flag=!1,clearTimeout(this.timer),this.messages=t,this.messages.show&&(this.timer=setTimeout((function(){e.messages.show=!1,e.flag=!0}),1300)))}},created:function(){var t=this;this.$nextTick((function(){t.getLyric(t.currentSong.id)}))},mounted:function(){var t=this;this.$nextTick((function(){t.changeImgs(),t.calculateTinme()}))},updated:function(){var t=this;this.$nextTick((function(){t.changeImgs(),t.changeAlias()}))},activated:function(){var t=this;this.$nextTick((function(){t.changeImgs(),t.changeAlias()}))}},Y=X,G=(i("35ef"),Object(y["a"])(Y,L,C,!1,null,"2ba7b496",null)),z=G.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"play-list"},[i("div",{staticClass:"mask animate__animated animate__fadeIn",on:{click:function(e){return e.stopPropagation(),t.$emit("change-show-list",!1)}}}),i("div",{staticClass:"swiper animate__animated animate__slideInUp"},[i("div",{staticClass:"card"},[i("div",{staticClass:"title-bar"},[i("div",{staticClass:"play"},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-bofang"}})])]),i("div",{staticClass:"title"},[t._v("当前播放"),i("span",[t._v("("+t._s(t.formerPlayList.length)+")")])]),t.showrank?t._e():i("div",{staticClass:"ascending",on:{click:function(e){e.stopPropagation(),t.showrank=!t.showrank,t.$emit("rank-play-list")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-paixu-shengxu"}})])]),t.showrank?i("div",{staticClass:"inverted",on:{click:function(e){e.stopPropagation(),t.showrank=!t.showrank,t.$emit("rank-play-list")}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-paixu-jiangxu"}})])]):t._e(),i("div",{staticClass:"del",on:{click:function(e){e.stopPropagation(),t.showlist=!0}}},[i("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-shanchu_delete"}})])])]),i("ul",{staticClass:"list"},t._l(t.formerPlayList,(function(e,s){return i("div",{key:e.id,staticClass:"new-list"},[i("div",{staticClass:"num"},[t._v(" "+t._s((s+1).toString().padStart(2,"0"))+" ")]),i("SongListItem",{staticClass:"current-list ",attrs:{item:e,currentSongId:t.currentSong.id,playing:t.playing},on:{"change-current-song":function(e){return t.$emit("change-current-song",e)}}})],1)})),0)])]),t.showlist?i("div",{staticClass:"inner-mask"}):t._e(),t.showlist?i("div",{staticClass:"inner animate__animated animate__slideInUp"},[i("p",[t._v("确定要清空当前播放列表？")]),i("div",{staticClass:"select"},[i("span",{staticClass:"left",on:{click:function(e){t.showlist=!1}}},[t._v("取消")]),i("span",{staticClass:"right",on:{click:function(e){t.showlist=!1,t.$emit("del-new-play-list")}}},[t._v("清空")])])]):t._e()])])},Q=[],Z=i("16a2"),K={data:function(){return{showlist:!1,showrank:!1}},components:{SongListItem:Z["a"]},props:{showPlayList:Boolean,currentPlayList:Array,currentSong:Object,playing:Boolean,formerPlayList:Array}},tt=K,et=(i("2504"),Object(y["a"])(tt,q,Q,!1,null,"21b175d0",null)),it=et.exports,st={data:function(){return{showPlayList:!1,showPlayPage:!1}},components:{PlayBar:_,PlayPage:z,NewPlayList:it},props:{currentSong:Object,playing:Boolean,duration:Number,currentTime:Number,currentPlayList:Array,playerMode:Number,currentVolume:Number,formerPlayList:Array,collectionList:Array,historyPlayList:Array,presentPlayList:Array},methods:{toggleShowPlayList:function(){this.showPlayList=!this.showPlayList}},computed:{author:function(){return this.currentSong.song?this.currentSong.song.artists:this.currentSong.ar},album:function(){return this.currentSong.song?this.currentSong.song.album.name:this.currentSong.al.name}}},nt=st,at=(i("83cc"),Object(y["a"])(nt,h,d,!1,null,"3c2af81c",null)),rt=at.exports,ot=i("2ef0"),lt=i.n(ot),ct={components:{Play:rt},data:function(){return{currentSong:null,currentPlayList:[],playing:!1,currentTime:0,currentVolume:.5,duration:0,index:"/home",enterClass:"animate__animated animate__slideInRight",leaveClass:"animate__animated animate__slideOutLeft",playerMode:1,currentMode:1,randomPlayList:[],formerPlayList:[],presentPlayList:[],historyPlayList:[],collectionList:[]}},computed:{currentSongUrl:function(){return this.currentSong?"https://music.163.com/song/media/outer/url?id=".concat(this.currentSong.id,".mp3 "):null}},methods:{changeCurrentSong:function(t){var e=this,i=!1;t.isLike=i,this.currentSong=t,this.judgeIsLike();var s=this.historyPlayList.findIndex((function(t){return t.id==e.currentSong.id}));-1==s&&(this.historyPlayList.push(this.currentSong),this.historyPlayList=lt.a.uniqBy(this.historyPlayList,"id")),localStorage.setItem("historyPlayList",JSON.stringify(this.historyPlayList))},addHistoryPlayList:function(){var t=this,e=this.presentPlayList.findIndex((function(e){return e.id==t.currentSong.id}));-1==e&&(this.presentPlayList.push(this.currentSong),this.presentPlayList=lt.a.uniqBy(this.presentPlayList,"id"))},changeCurrentPlayList:function(t){this.currentPlayList=t,this.formerPlayList=lt.a.cloneDeep(this.randomPlayList),this.presentPlayList=lt.a.cloneDeep(this.currentPlayList)},togglePlayingState:function(){this.playing?this.$refs.audio.pause():this.$refs.audio.play()},timeupdate:function(t){this.currentTime=t.target.currentTime},durationchange:function(t){this.duration=t.target.duration},togglePlayModel:function(){this.playerMode++,this.playerMode>3&&(this.playerMode=1)},previousSong:function(){var t=this,e=this.randomPlayList.findIndex((function(e){return e.id==t.currentSong.id}));e--,e=e>this.randomPlayList.length-1?0:e,e=e<0?this.randomPlayList.length-1:e,this.changeCurrentSong(this.randomPlayList[e])},nextSong:function(){var t=this,e=this.randomPlayList.findIndex((function(e){return e.id==t.currentSong.id}));e++,e=e>this.randomPlayList.length-1?0:e,e=e<0?this.randomPlayList.length-1:e,this.changeCurrentSong(this.randomPlayList[e])},listCycle:function(){this.currentMode=1,this.bus.$emit("tips",{show:!0,title:"列表循环"})},songCycle:function(){this.currentMode=2,this.bus.$emit("tips",{show:!0,title:"单曲循环"})},shufflePlay:function(){this.currentMode=3,this.bus.$emit("tips",{show:!0,title:"随机播放"}),this.randomSong()},loopPlayback:function(){this.$refs.audio.play()},randomSong:function(){var t=lt.a.cloneDeep(this.currentPlayList);this.randomPlayList=this.shuffle(t)},shuffle:function(t){var e,i,s=t.length;while(s)i=Math.floor(Math.random()*s--),e=t[s],t[s]=t[i],t[i]=e;return t},ended:function(){switch(this.currentMode){case 1:this.changeRandomPlayList(),this.nextSong();break;case 2:this.loopPlayback();break;case 3:this.randomSong(),this.nextSong();break}},changeRandomPlayList:function(){this.randomPlayList=this.currentPlayList,this.formerPlayList=lt.a.cloneDeep(this.randomPlayList),this.presentPlayList=lt.a.cloneDeep(this.randomPlayList)},pushCurrentPlayList:function(t){var e=this,i=this.currentPlayList.findIndex((function(t){return t.id==e.currentSong.id}));-1==i&&(this.currentPlayList.push(t),this.currentPlayList=Array.from(new Set(Object(u["a"])(this.currentPlayList))))},rankPlayList:function(){this.formerPlayList.length>2&&(this.formerPlayList=this.formerPlayList.reverse())},delNewPlayList:function(){this.formerPlayList=[],this.playing=!1,this.currentSong=null,this.$refs.audio.pause()},delAllListSong:function(t){t.splice(0,t.length)},deleteTheItem:function(t){switch(console.log("是删除第几个轮播图的列表数据",t.type),t.type){case 1:if(this.presentPlayList.splice(t.index,1),t.item.id===this.currentSong.id)if(this.presentPlayList.length>=1){var e=t.index;e=e>=this.presentPlayList.length-1?e=0:e++,this.changeCurrentSong(this.presentPlayList[e])}else 1===this.presentPlayList.length?this.changeCurrentSong(this.presentPlayList[t.index]):this.$refs.audio.pause();0===this.presentPlayList.length&&(this.formerPlayList=[],this.playing=!1,this.$refs.audio.pause()),this.listNull();break;case 2:if(this.historyPlayList.splice(t.index,1),t.item.id===this.currentSong.id)if(this.historyPlayList.length>=1){var i=t.index;i=i>=this.historyPlayList.length-1?i=0:i++,this.changeCurrentSong(this.historyPlayList[i]),this.addHistoryPlayList()}else 1===this.historyPlayList.length?(this.changeCurrentSong(this.historyPlayList[t.index]),this.addHistoryPlayList()):this.$refs.audio.pause();localStorage.setItem("historyPlayList",JSON.stringify(this.historyPlayList)),0===this.historyPlayList.length&&(this.formerPlayList=[],this.playing=!1,this.$refs.audio.pause()),this.listNull();break;case 3:this.collectionList.splice(t.index,1),localStorage.setItem("collectionList",JSON.stringify(this.collectionList));break}},delAllCollectionList:function(){this.delAllListSong(this.collectionList),this.currentSong.isLike=!1,localStorage.setItem("collectionList",JSON.stringify(this.collectionList))},delAllHistoryList:function(){this.delAllListSong(this.historyPlayList),localStorage.setItem("historyPlayList",JSON.stringify(this.historyPlayList)),this.listNull()},delAllPresentList:function(){this.delAllListSong(this.presentPlayList),this.listNull()},listNull:function(){0==this.presentPlayList.length&&0==this.historyPlayList.length&&(this.formerPlayList=[],this.playing=!1,this.currentSong=null,this.$refs.audio.pause())},addCollection:function(t){this.currentSong.isLike=t,this.collectionList.push(this.currentSong),localStorage.setItem("collectionList",JSON.stringify(this.collectionList))},cancelCollection:function(t){var e=this;this.currentSong.isLike=t;var i=this.collectionList.findIndex((function(t){return t.id===e.currentSong.id}));this.collectionList.splice(i,1),localStorage.setItem("collectionList",JSON.stringify(this.collectionList))},judgeIsLike:function(){var t=this,e=this.collectionList.findIndex((function(e){return e.id===t.currentSong.id}));0!=this.collectionList.length&&(this.currentSong.isLike=-1!=e)}},watch:{$route:function(t,e){t.meta.index<=e.meta.index?(this.enterClass="animate__animated animate__slideInLeft",this.leaveClass="animate__animated animate__slideOutRight"):(this.enterClass="animate__animated animate__slideInRight",this.leaveClass="animate__animated animate__slideOutLeft")},currentPlayList:function(){1==this.playerMode&&this.changeRandomPlayList()},playerMode:function(){1==this.playerMode&&this.changeRandomPlayList()},currentSong:function(){this.playing=!1}},mounted:function(){this.$refs.audio.volume=.5,this.collectionList=JSON.parse(window.localStorage.getItem("collectionList"))||[],this.historyPlayList=JSON.parse(window.localStorage.getItem("historyPlayList"))||[]}},ut=ct,ht=(i("7c55"),Object(y["a"])(ut,l,c,!1,null,null,null)),dt=ht.exports,gt=i("8c4f"),mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("HomeTitle",[t._v("编辑推荐")]),s("ul",{staticClass:"home-cardlist"},t._l(t.personalizeds,(function(t){return s("CardListItem",{key:t.id,attrs:{item:t}})})),1),s("HomeTitle",[t._v("最新音乐")]),s("ul",{staticClass:"home-songlist"},[t._l(t.newsongs,(function(e,i){return s("SongListItem",{directives:[{name:"show",rawName:"v-show",value:0==t.isLoading,expression:"isLoading == false"}],key:i+e.id,attrs:{item:e,currentSongId:t.currentSongId,playing:t.playing},on:{"change-current-song":function(e){t.$emit("change-current-song",e),t.$emit("change-current-play-list",t.newsongs)}}})})),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.isLoading,expression:"isLoading == true"}],staticClass:"loading"},[s("img",{attrs:{src:i("cf1c"),alt:"loading"}}),s("p",[t._v("加载中...")])])],2),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.isLoading,expression:"isLoading == false"}],staticClass:"home-foot",class:{"pad-bottom":t.currentSong}},[t._m(0)])],1)},pt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"f-wrap"},[i("div",{staticClass:"logo"}),i("div",{staticClass:"open-app"},[t._v("打开APP，发现更多好音乐 >")]),i("p",{staticClass:"copyright"},[t._v("网易公司版权所有©1997-2021 杭州乐读科技有限公司运营")])])}],ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",{staticClass:"home-title"},[t._t("default")],2)])},yt=[],vt={},_t=vt,Lt=(i("68fc"),Object(y["a"])(_t,ft,yt,!1,null,"30820f34",null)),Ct=Lt.exports,wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"card-item",on:{click:function(e){return t.$router.push("/playlist?id="+t.item.id)}}},[i("div",{staticClass:"thumb"},[i("img",{staticClass:"bg",attrs:{src:t.item.picUrl+"?imageView=1&type=webp&thumbnail=247x0"}}),i("span",[t._v(t._s(t._f("parseCount")(t.item.playCount)))])]),i("p",[t._v(t._s(t.item.name))])])},xt=[],Pt=(i("b680"),{props:{item:{type:Object,required:!0}},filters:{parseCount:function(t){return t>1e8?parseFloat((t/1e8).toFixed(1))+"亿":t>1e4?parseFloat((t/1e4).toFixed(1))+"万":t}}}),bt=Pt,kt=(i("4bde"),Object(y["a"])(bt,wt,xt,!1,null,null,null)),St=kt.exports,It={name:"Home",components:{HomeTitle:Ct,CardListItem:St,SongListItem:Z["a"]},props:{currentSongId:{type:Number},playing:Boolean,currentSong:Object},data:function(){return{personalizeds:[],newsongs:[],isLoading:!0}},created:function(){var t=this;this.axios.get("/personalized?limit=6").then((function(e){t.personalizeds=e.data.result})),this.axios.get("/personalized/newsong").then((function(e){t.newsongs=e.data.result,t.loaded()}))},methods:{loaded:function(){var t=this;setTimeout((function(){t.isLoading=!1}),200)}}},Tt=It,$t=(i("9e00"),Object(y["a"])(Tt,mt,pt,!1,null,"61b85a96",null)),At=$t.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search",on:{scroll:t.scroll}},[s("div",{staticClass:"search-box"},[s("div",{staticClass:"search-cover"},[s("i",{staticClass:"search-icon",on:{click:function(e){return t.$emit("")}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-sousuo"}})])]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.value,expression:"value",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.value},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.value&&(t.searching=!0),t.isLoading=!0,t.saveSearch()},focus:function(e){t.inputing=!0},blur:[function(e){t.inputing=!1},function(e){return t.$forceUpdate()}],input:function(e){e.target.composing||(t.value=e.target.value.trim())}}}),s("i",{staticClass:"search-del",on:{click:function(e){t.value="",t.searching=!1}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}]},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-jiufuqianbaoicon08"}})])])])])]),t.value||t.searching?t._e():s("section",{staticClass:"hots"},[s("h5",[t._v("热门搜索")]),s("ul",t._l(t.hots,(function(e){return s("li",{key:e.fitst,staticClass:"hot-search",on:{click:function(i){t.searching=!0,t.value=e.first,t.isLoading=!0,t.saveSearch()}}},[t._v(t._s(e.first))])})),0),s("ol",[s("transition-group",{attrs:{name:"list-complete",mode:"out-in"}},t._l(t.searchHistory,(function(e,i){return s("li",{key:e,staticClass:"history-search",on:{click:function(i){t.searching=!0,t.value=e,t.isLoading=!0,t.saveSearch()}}},[s("i",{staticClass:"history-icon"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-lishiyouxibitongjiweijihuo"}})])]),s("div",{staticClass:"history-content"},[s("p",[t._v(t._s(e))]),s("i",{staticClass:"history-del",on:{click:function(e){return e.stopPropagation(),t.delSearchHistory(i)}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-shanchu1"}})])])])])})),0)],1)]),t.value&&!t.searching?s("section",{staticClass:"suggests"},[s("h5",{on:{click:function(e){t.searching=!0,t.isLoading=!0,t.saveSearch()}}},[t._v('搜索"'+t._s(this.value)+'"')]),s("ul",t._l(t.suggests,(function(e,i){return s("li",{key:i,staticClass:"suggest-search",on:{click:function(i){t.searching=!0,t.value=e.keyword,t.isLoading=!0,t.saveSearch()}}},[s("i",{staticClass:"suggests-icon"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-sousuo"}})])]),s("span",[t._v(" "+t._s(e.keyword)+" ")])])})),0)]):t._e(),t.searching&&0==t.isLoading?s("section",{staticClass:"result",class:{paddingBottom:t.currentSong}},[s("h5",[t._v("搜索结果")]),s("ul",t._l(t.searchResults,(function(e,i){return s("li",{key:i,staticClass:"songlistitem",on:{click:function(i){return t.setSearchPlay(e)}}},[s("div",{staticClass:"left"},[s("div",{staticClass:"title"},[t._v(" "+t._s(e.name)+" "),""!=e.alias?s("span",[t._v(t._s(e.alias[0]))]):t._e()]),s("div",{staticClass:"info"},[8==e.fee?s("em"):t._e(),t._l(e.artists,(function(e,i){return s("i",{key:"artist1"+i,staticClass:"artist"},[t._v(t._s(e.name))])})),s("b",[t._v(t._s(e.album.name))])],2)]),s("div",{staticClass:"icon"},[s("div",{staticClass:"play",class:{current:t.currentSongId===e.id,playing:t.playing}},[s("i"),s("i"),s("i"),s("i")])])])})),0),t.hasMore?s("p",{staticClass:"loading-more"},[s("img",{attrs:{src:i("cf1c")}}),t._v("正在加载...")]):t._e(),t.hasMore?t._e():s("p",{staticClass:"no-more"},[t._v("全部加载完")])]):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.isLoading,expression:"isLoading == true"}],staticClass:"loading"},[s("img",{attrs:{src:i("cf1c"),alt:"loading"}}),s("p",[t._v("加载中...")])])])},Mt=[],jt={props:{currentSong:{type:Object},currentSongId:Number,playing:Boolean},data:function(){return{hots:[],suggests:[],searchResults:[],value:"",searching:!1,inputing:!1,page:0,hasMore:!1,searchHistory:[],padBottom:"0px",isLoading:!1}},created:function(){var t=this;this.axios.get("/search/hot").then((function(e){t.hots=e.data.result.hots}))},watch:{value:function(t){var e=this;this.inputing&&(this.searching=!1),t&&!this.searching?this.axios.get("/search/suggest",{params:{keywords:t,type:"mobile"}}).then((function(t){e.suggests=t.data.result.allMatch,console.log(e.suggests)})):this.suggests=[]},searching:function(t){t&&this.value?(this.getSearch(),this.searchHistory=JSON.parse(window.localStorage.getItem("history"))):this.searchResults=[]}},methods:{scroll:function(t){if(this.hasMore){var e=t.target.offsetHeight+Math.ceil(t.target.scrollTop);e===t.target.scrollHeight&&this.getSearch()}},getSearch:function(){var t=this;this.axios.get("/search",{params:{keywords:this.value,limit:30,offset:30*this.page}}).then((function(e){if(void 0==e.data.result.songs||""==e.data.result.songs){var i="".concat(t.value.slice(0,4));console.log(i),t.unSearch(i)}else{var s;(s=t.searchResults).push.apply(s,Object(u["a"])(e.data.result.songs))}t.page++,t.hasMore=e.data.result.hasMore,t.loaded()}))},unSearch:function(t){var e=this;this.axios.get("/search",{params:{keywords:t,limit:20}}).then((function(t){e.searchResults=t.data.result.songs,e.loaded()}))},saveSearch:function(){this.searchHistory.unshift(this.value),this.searchHistory=Array.from(new Set([].concat(Object(u["a"])(this.searchHistory),[this.value]))),this.searchHistory.length>15&&(this.searchHistory.length=15),localStorage.setItem("history",JSON.stringify(this.searchHistory))},setSearchPlay:function(t){console.log("搜索列表的数据结构不一样",t),t.al=t.album,t.al.picUrl=t.album.artist.img1v1Url,t.ar=t.artists,t.alia=t.alias,this.$emit("change-current-song",t),this.$emit("push-current-play-list",t)},loaded:function(){var t=this;setTimeout((function(){t.isLoading=!1}),200)},delSearchHistory:function(t){console.log("当前要删除的，搜索历史记录下标",t),this.searchHistory.splice(t,1),localStorage.setItem("history",JSON.stringify(this.searchHistory))}},mounted:function(){JSON.parse(localStorage.getItem("history"))&&(this.searchHistory=JSON.parse(localStorage.getItem("history"))||[])}},Ot=jt,Bt=(i("173d"),Object(y["a"])(Ot,Nt,Mt,!1,null,"3d9d1387",null)),Dt=Bt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hotComments?s("section",{ref:"playList",staticClass:"playlist-box",on:{scroll:t.scroll}},[t.detail.creator?s("div",{staticClass:"list-top"},[s("div",{staticClass:"mask",style:{backgroundImage:"url("+t.detail.coverImgUrl+"?imageView=1&type=webp&thumbnail=253x0)"}}),s("span",{staticClass:"list-icon",on:{click:t.back}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-fanhui3"}})]),s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-fenxiang1"}})])]),s("div",{staticClass:"list-content"},[s("div",{staticClass:"img-box"},[s("i",{staticClass:"song-list"},[t._v("歌单")]),s("img",{staticClass:"list-img",attrs:{src:t.detail.coverImgUrl,alt:"歌单详情"}}),s("span",{staticClass:"parse-count"},[t._v(t._s(t._f("parseCount")(t.detail.playCount)))])]),s("div",{staticClass:"song-title"},[s("h2",{staticClass:"list-name"},[t._v(t._s(t.detail.name))]),s("div",{staticClass:"list-author"},[s("i",[s("img",{attrs:{src:t.detail.creator.avatarUrl,alt:""}})]),s("p",[t._v(t._s(t.detail.creator.nickname))])])])])]):t._e(),s("div",{staticClass:"title"},[t._v(" 歌曲列表 ")]),t.isLoading?t._e():s("div",{staticClass:"playlist-box"},[s("ul",t._l(t.detail.tracks,(function(e,i){return s("div",{key:e.value,staticClass:"playlist"},[s("div",{staticClass:"num"},[t._v(" "+t._s(i+1)+" ")]),s("SongListItem",{staticClass:"xxx",attrs:{item:e,currentSongId:t.currentSongId,playing:t.playing},on:{"change-current-song":function(i){t.$emit("change-current-song",e),t.$emit("change-current-play-list",t.detail.tracks)}}})],1)})),0),s("p",{staticClass:"client-side"},[t._v("查看更多歌曲， 请下载客户端")])]),t.isLoading?s("div",{staticClass:"loading"},[s("img",{attrs:{src:i("cf1c"),alt:"loading"}}),s("p",[t._v("加载中...")])]):t._e(),s("section",{class:{paddingBottom:t.currentSong}},[s("div",{staticClass:"title"},[t._v(" 最新评论("+t._s(t.hotComments.length)+") ")]),t._l(t.hotComments,(function(e,i){return s("div",{key:i,staticClass:"new-comments animate__animated animate__fadeIn"},[s("div",{staticClass:"portrait"},[s("i",[s("img",{attrs:{src:e.user.avatarUrl}})])]),s("div",{staticClass:"content-box"},[s("div",{staticClass:"pet-box"},[s("div",{staticClass:"pet-name "},[s("p",[t._v(t._s(e.user.nickname)+" "),11==e.user.vipType?s("i",{staticClass:"pet-vip"}):t._e()]),s("p",{staticClass:"pet-time"},[t._v(t._s(t._f("timestampToTime")(e.time)))])]),s("div",{staticClass:"pet-icon"},[s("span",[t._v(t._s(e.likedCount))]),t.petLike?t._e():s("i",{staticClass:"icon-one"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-31dianzan"}})])]),t.petLike?s("i",{staticClass:"icon-two"},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-dianzan_kuai"}})])]):t._e()])]),s("p",{staticClass:"content-p"},[t._v(t._s(e.content))])])])})),s("div",{staticClass:"more"},[t.upload&&t.more?s("p",[s("img",{attrs:{src:i("cf1c")}}),t._v("正在加载...")]):t._e(),!t.upload&&t.more?s("p",{on:{click:function(e){t.getMoreComment(),t.upload=!0}}},[t._v("查看更多评论:) >")]):t._e(),t.more?t._e():s("p",[t._v("没有更多了:O")])]),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animate__animated animate__fadeInRight","leave-active-class":"animate__animated animate__fadeOutRight"}},[t.showBack?s("div",{staticClass:"back-top",on:{click:function(e){return t.goBackTop()}}},[s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-huidaodingbu1"}})])]):t._e()])],2)]):t._e()},Rt=[],Et={components:{SongListItem:Z["a"]},props:{currentSongId:{type:Number},currentSong:Object,playing:Boolean},filters:{parseCount:function(t){return t>1e8?parseFloat((t/1e8).toFixed(1))+"亿":t>1e4?parseFloat((t/1e4).toFixed(1))+"万":t},timestampToTime:function(t){var e=new Date(t),i=e.getFullYear(),s=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getDate();return"".concat(i,"年").concat(s,"月").concat(n,"日")}},data:function(){return{detail:[],hotComments:[],page:0,petLike:!1,more:!0,upload:!1,showBack:!1,isLoading:!0}},methods:{getPlayListDetail:function(t){var e=this;this.axios.get("/playlist/detail",{params:{id:t}}).then((function(t){e.detail=t.data.playlist,setTimeout((function(){e.isLoading=!1}),200)}))},getLatestReviews:function(t){var e=this;this.axios.get("/comment/playlist",{params:{limit:20,offset:20*this.page,id:t}}).then((function(t){var i,s;void 0==t.data.hotComments||""==t.data.hotComments?(i=e.hotComments).push.apply(i,Object(u["a"])(t.data.comments)):(s=e.hotComments).push.apply(s,Object(u["a"])(t.data.hotComments));e.page++,e.more=t.data.more,setTimeout((function(){e.upload=!1}),600),e.$nextTick((function(){e.page<2?e.$refs.playList.scrollTop=0:e.$refs.playList.scrollTop=e.$refs.playList.scrollHeight-e.$refs.playList.offsetHeight}))}))},back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)},getMoreComment:function(){this.more&&this.getLatestReviews(this.$route.query.id)},scroll:function(t){var e=t.target.scrollTop,i=t.target.offsetHeight;this.showBack=e>i},goBackTop:function(){var t=this,e=setInterval((function(){var i=t.$refs.playList.scrollTop,s=i/35;0!=t.$refs.playList.scrollTop?t.$refs.playList.scrollTop-=s:0==t.$refs.playList.scrollTop&&clearInterval(e)}),1)}},created:function(){var t=this;this.$nextTick((function(){t.getPlayListDetail(t.$route.query.id),t.getLatestReviews(t.$route.query.id)}))},mounted:function(){this.$nextTick((function(){}))}},Vt=Et,Ut=(i("6bd9"),Object(y["a"])(Vt,Ht,Rt,!1,null,"0e7ae7f4",null)),Jt=Ut.exports;s["a"].use(gt["a"]);var Ft=[{path:"/",name:"Home",component:At,meta:{showNavBar:!0,index:0,keepAlive:!0}},{path:"/hot",name:"Hot",component:function(){return i.e("hot").then(i.bind(null,"0b70"))},meta:{showNavBar:!0,index:1,keepAlive:!0}},{path:"/search",name:"Search",component:Dt,meta:{showNavBar:!0,index:2,keepAlive:!0}},{path:"/playlist",name:"playList",component:Jt,meta:{showNavBar:!1,index:3,keepAlive:!1}}],Wt=new gt["a"]({routes:Ft}),Xt=Wt;s["a"].prototype.bus=new s["a"],s["a"].config.productionTip=!1,new s["a"]({router:Xt,render:function(t){return t(dt)}}).$mount("#app")},"68fc":function(t,e,i){"use strict";i("a015")},"6b5b":function(t,e,i){"use strict";i("b6bc")},"6bd9":function(t,e,i){"use strict";i("8bea")},"730b":function(t,e,i){"use strict";i("bd4a")},"73ea":function(t,e,i){"use strict";i("85a6")},"77d1":function(t,e,i){},"7c55":function(t,e,i){"use strict";i("2395")},"83cc":function(t,e,i){"use strict";i("25a0")},"85a6":function(t,e,i){},"87b7":function(t,e,i){"use strict";i("c62d")},"8bea":function(t,e,i){},"8ecb":function(t,e,i){},"9c07":function(t,e,i){},"9e00":function(t,e,i){"use strict";i("ed7f")},a015:function(t,e,i){},a367:function(t,e,i){},b6bc:function(t,e,i){},bd4a:function(t,e,i){},c62d:function(t,e,i){},cf1c:function(t,e){t.exports="data:image/gif;base64,R0lGODlhKAAoAIABANM6Mf///yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI2QURFODRFRkZBRTExRTU4NTg0QTdFMUQ4QkI2MTI1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI2QURFODRGRkZBRTExRTU4NTg0QTdFMUQ4QkI2MTI1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjZBREU4NENGRkFFMTFFNTg1ODRBN0UxRDhCQjYxMjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjZBREU4NERGRkFFMTFFNTg1ODRBN0UxRDhCQjYxMjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PDs6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQJCgABACwAAAAAKAAoAAACeIyPqcvtD6OctNoD8rUZ7Np9VChKZAmdqKOuTOsqcIzMtGHfuaxxfbRrBGu/UfExXCRxxwRsGdg9m0IqpgmVYq1KbnTrMXmnYeAYzCtf1em2E11lf+VkFpxIP+f37td93dfF9zboVwhIaHfItJjoiBd4IzlJWalQAAAh+QQJCgABACwAAAAAKAAoAAACfIyPqcvtD6OctNqLs94WeB55AAiJ5GOeTaoubJu8nBzQGm0zuYF/0l7zIYAxocvIQzqAvVHROVRGoYemgqm0PpfZLjX53YqnV2nVWw5j1ejxkQ1Pc+Nu8FxeD4bJea2uzRf4hidotwJ4RvenmEg42IfoaFioB2N5iZmZUAAAIfkECQoAAQAsAAAAACgAKAAAAn+Mj6nL7Q+jnLRaCPK1GezafVTIaRIJmhE6qpg7sY98wg692g3+egnNm9mAup6C6EslD8hL8zcsGp4I6sI6jS6PWu42EAR3od8wVlyWor1s8m1chV/l2fQ3bm/j33m3n3F2tvfHREdYp1d4p5iIePgYqBbZB2goKIKZqbnJ+VAAACH5BAUKAAEALAAAAAAoACgAAAJ8jI+py+0PIwRUWkbB3Sjz731bKFpkGZ1mJaktm8KX29CT/Ng57ug9XwPeNC/iSLjwBY1DEFKhxDwTLl/0UH1eDVkmlNf9eqng8thqFquX606aTT6/pfJ6OznH5u/cfQBtF8cnSOgWSDcYBmeYqOWniFiod4hSaXmJmWlRAAA7"},d693:function(t,e,i){},d96e:function(t,e,i){},ed7f:function(t,e,i){},edaf:function(t,e,i){"use strict";i("8ecb")}});
//# sourceMappingURL=index.d6c3df6a.js.map