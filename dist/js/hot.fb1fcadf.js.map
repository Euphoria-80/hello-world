{"version":3,"sources":["webpack:///./src/views/Hot.vue?fc5d","webpack:///src/views/Hot.vue","webpack:///./src/views/Hot.vue?1603","webpack:///./src/views/Hot.vue","webpack:///./src/views/Hot.vue?1515"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","on","scroll","_v","_s","_f","updateTime","isLoading","_e","_l","item","index","key","toString","padStart","attrs","currentSongId","playing","$event","$emit","hotDetail","stopPropagation","goBackTop","staticRenderFns","components","SongListItem","data","id","showBack","props","Number","currentSong","Object","Boolean","created","axios","get","params","setTimeout","filters","timestampToTime","date","Date","timestamp","M","D","methods","top","event","target","scrollTop","h","offsetHeight","scrollTopTimer","setInterval","speed","clearInterval","mouhted","component"],"mappings":"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","file":"js/hot.fb1fcadf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"hotList\",staticClass:\"about\",on:{\"scroll\":_vm.scroll}},[_c('div',{staticClass:\"hot-song\"},[_c('ul',{staticClass:\"hot-top\"},[_c('li',{staticClass:\"hot-title\"}),_c('li',{staticClass:\"update-time\"},[_vm._v(\"更新日期：\"+_vm._s(_vm._f(\"timestampToTime\")(_vm.updateTime)))])])]),_c('keep-alive',[(!_vm.isLoading)?_c('ul',{staticClass:\"list\"},_vm._l((_vm.hotDetail),function(item,index){return _c('div',{key:index,staticClass:\"new-list\"},[_c('div',{staticClass:\"num\"},[_vm._v(\" \"+_vm._s((index + 1).toString().padStart(2, \"0\"))+\" \")]),_c('SongListItem',{staticClass:\"current-list\",attrs:{\"item\":item,\"currentSongId\":_vm.currentSongId,\"playing\":_vm.playing},on:{\"change-current-song\":function($event){_vm.$emit('change-current-song',$event),\n        _vm.$emit('change-current-play-list',_vm.hotDetail)}}})],1)}),0):_vm._e()]),_c('transition',{attrs:{\"name\":\"custom-classes-transition\",\"enter-active-class\":\"animate__animated animate__fadeInRight\",\"leave-active-class\":\"animate__animated animate__fadeOutRight\"}},[(_vm.showBack)?_c('div',{staticClass:\"back-top\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goBackTop()}}},[_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-huidaodingbu1\"}})])]):_vm._e()]),(_vm.isLoading == true)?_c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":require(\"../assets/loading.gif\"),\"alt\":\"loading\"}}),_c('p',[_vm._v(\"加载中...\")])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"about\"\n    @scroll=\"scroll\"\n    ref=\"hotList\"\n  >\n    <div class=\"hot-song\">\n\n      <ul class=\"hot-top\">\n        <li class=\"hot-title\"></li>\n        <li class=\"update-time\">更新日期：{{updateTime | timestampToTime}}</li>\n      </ul>\n    </div>\n    <keep-alive>\n      <ul\n        class=\"list\"\n        v-if=\"!isLoading\"\n      >\n        <div\n          class=\"new-list\"\n          v-for=\"(item,index) in hotDetail \"\n          :key=\"index\"\n        >\n          <div class=\"num\">\n            {{ (index + 1).toString().padStart(2, \"0\") }}\n          </div>\n          <SongListItem\n            class=\"current-list\"\n            :item=\"item\"\n            :currentSongId=\"currentSongId\"\n            :playing=\"playing\"\n            @change-current-song=\"$emit('change-current-song',$event),\n          $emit('change-current-play-list',hotDetail)\"\n          ></SongListItem>\n        </div>\n      </ul>\n    </keep-alive>\n\n    <!-- 返回 -->\n    <transition\n      name=\"custom-classes-transition\"\n      enter-active-class=\"animate__animated animate__fadeInRight\"\n      leave-active-class=\"animate__animated animate__fadeOutRight\"\n    >\n      <div\n        class=\"back-top\"\n        v-if=\"showBack\"\n        @click.stop=\"goBackTop()\"\n      >\n        <svg\n          class=\"icon\"\n          aria-hidden=\"true\"\n        >\n          <use xlink:href=\"#icon-huidaodingbu1\"></use>\n        </svg>\n      </div>\n    </transition>\n\n    <!-- 加载中... -->\n    <div\n      class=\"loading\"\n      v-if=\"isLoading == true\"\n    ><img\n        src=\"../assets/loading.gif\"\n        alt=\"loading\"\n      >\n      <p>加载中...</p>\n    </div>\n  </div>\n\n</template>\n<script>\nimport SongListItem from \"@/components/SongListItem.vue\";\n\nexport default {\n  components: {\n    SongListItem\n  },\n  data() {\n    return {\n      hotDetail: [],\n      isLoading: true,\n      id: 3778678,\n      updateTime: 0,\n      showBack: false,\n    }\n  },\n  props: {\n    currentSongId: Number,\n    currentSong: Object,\n    playing: Boolean,\n  },\n  created() {\n    this.axios.get(\"/playlist/detail\", {\n      params: {\n        id: this.id,\n      }\n    }).then((res) => {\n      // console.log(res.data.playlist.tracks);\n      this.hotDetail = res.data.playlist.tracks;\n      this.updateTime = res.data.playlist.updateTime;\n      // console.log(this.hotDetail[1].fee);\n      // console.log(this.updateTime);\n      setTimeout(() => {\n        this.isLoading = false;\n      }, 200)\n\n    })\n  },\n  filters: {\n    // 格式化时间\n    timestampToTime(timestamp) {\n      var date = new Date(timestamp);\n      // var Y = date.getFullYear();\n      var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1);\n      var D = (date.getDate() + 1 < 10 ? '0' + (date.getDate() + 1) : date.getDate() + 1);\n      return `${M}月${D}日`;\n    }\n  },\n  methods: {\n    // 滚动监听\n    scroll: function (event) {\n      var top = event.target.scrollTop;\n      var h = event.target.offsetHeight;\n      if (top > h) {\n        this.showBack = true;\n      } else {\n        this.showBack = false;\n      }\n    },\n\n    // 回到顶部\n    goBackTop() {\n      var scrollTopTimer = setInterval(() => {\n        var top = this.$refs.hotList.scrollTop;\n        var speed = top / 35;\n        if (this.$refs.hotList.scrollTop != 0) {\n          this.$refs.hotList.scrollTop -= speed;\n        } else if (this.$refs.hotList.scrollTop == 0) {\n          clearInterval(scrollTopTimer);\n        }\n      }, 1)\n    },\n  },\n  mouhted() {\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.about {\n  .hot-song {\n    width: 100%;\n    height: 150px;\n    padding: 20px;\n    background-image: url(\"https://s3.music.126.net/mobile-new/img/hot_music_bg_2x.jpg?f01a252389c26bcf016816242eaa6aee=\");\n    background-size: cover;\n    background-position: 50%;\n    background-repeat: no-repeat;\n    position: relative;\n    overflow: hidden;\n\n    .hot-top {\n      height: 95px;\n      display: flex;\n      justify-content: space-between;\n      flex-direction: column;\n      z-index: 2;\n      margin-top: 6px;\n      .hot-title {\n        width: 142px;\n        height: 67px;\n        background: url(https://s3.music.126.net/mobile-new/img/index_icon_2x.png?5207a28…=)\n          no-repeat -25px -29px;\n        background-size: 165px;\n      }\n      .update-time {\n        font-size: 12px;\n        color: #fff;\n      }\n      ::before {\n        content: \" \";\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 1;\n        background-color: rgba(0, 0, 0, 0.02);\n      }\n    }\n  }\n\n  padding-top: 40px;\n  .list {\n    .new-list {\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n      .num {\n        width: 25px;\n        font-size: 17px;\n        margin-left: 6px;\n        text-align: center;\n      }\n    }\n    :nth-of-type(1),\n    :nth-of-type(2),\n    :nth-of-type(3) {\n      .num {\n        color: #d43c33;\n      }\n    }\n    .current-list {\n      flex: 1;\n    }\n  }\n  .back-top {\n    width: 41px;\n    height: 41px;\n    background-color: #fff;\n    border-radius: 50%;\n    box-shadow: 1px 1px 4px rgba(51, 51, 51, 0.521);\n    position: fixed;\n    bottom: 90px;\n    right: 50px;\n    padding: 8px;\n    .icon {\n      width: 1.5rem;\n      height: 1.5rem;\n      fill: #333;\n    }\n  }\n  .loading {\n    width: 100%;\n    height: 5rem;\n    display: flex;\n    // flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    padding-top: 100px;\n    img {\n      width: 1.3rem;\n      vertical-align: text-bottom;\n    }\n    p {\n      font-size: 1rem;\n      margin-left: 6px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Hot.vue?vue&type=template&id=391bd9bf&scoped=true&\"\nimport script from \"./Hot.vue?vue&type=script&lang=js&\"\nexport * from \"./Hot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Hot.vue?vue&type=style&index=0&id=391bd9bf&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"391bd9bf\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Hot.vue?vue&type=style&index=0&id=391bd9bf&lang=less&scoped=true&\""],"sourceRoot":""}